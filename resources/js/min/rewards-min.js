function getRandomInt(){var r=Math.floor(Math.random()*(numberOfGifts-0))+0;return-1===selectedGifts.indexOf(r)?(selectedGifts[counter]=r,r):getRandomInt()}function calculateRowSize(){$(".row_wrapper").height($(window).height()-110)}function init(){var r='<div class="col-md-offset-2 col-lg-offset-2 col-md-2 col-lg-2">						<div class="card">							<div class="back">								<img src=""/>								<h4 class="bs-callout-blue">John Abracle</h2>							</div>							<div class="front">								<img src="./resources/img/placeholder.png"/>							</div>						</div>					</div>',s='<div class="col-md-offset-1 col-lg-offset-1 col-md-2 col-lg-2">						<div class="card">							<div class="back">								<img src=""/>								<h4 class="bs-callout-blue">John Abracle</h2>							</div>							<div class="front">								<img src="./resources/img/placeholder.png"/>							</div>						</div>					</div>',e='<div class="col-md-offset-1 col-lg-offset-1 col-md-2 col-lg-2">						<div class="card">							<div class="back">								<img src=""/>								<h4 class="bs-callout-blue">John Abracle</h2>							</div>							<div class="front">								<img src="./resources/img/placeholder.png"/>							</div>						</div>					</div>',o='<div class="row"></div>';persons=jQuery.parseJSON(sessionStorage.getItem("persons")),$.getJSON("./config.json.html",function(c){numberOfGifts=c.number_of_gifts,gifts=c.gifts;var t=$(".row_wrapper");for(counter=1;counter<=persons.length;counter++){var i=getRandomInt();counter%3===1?(t.children(".row:last-child").append(r),$(".row_wrapper .row .card:last img:first").prop("src",gifts[i].url),$(".row_wrapper .row .card:last").prop("id",i)):counter%3===2?(t.children(".row:last-child").append(s),$(".row_wrapper .row .card:last img:first").prop("src",gifts[i].url),$(".row_wrapper .row .card:last").prop("id",i)):(t.children(".row:last-child").append(e),$(".row_wrapper .row .card:last img:first").prop("src",gifts[i].url),$(".row_wrapper .row .card:last").prop("id",i),t.append(o))}}).done(function(){counter=0,$("#player_name").text(persons[counter].name),$(".card").click(function(){counter>=persons.length-1&&($("#redirect_info").css("display","block"),setTimeout(function(){sessionStorage.setItem("persons",JSON.stringify(persons)),window.location="./summary.html"},4e3)),persons[counter].gift=parseInt($(this).prop("id")),$(this).find(".back h4").text(persons[counter].name).addClass(persons[counter].color),$(this).hasClass("flipped")||$(this).addClass("flipped"),$(this).off("click"),counter++,$("#player_name").text(persons[counter].name)}),$(".loader").fadeOut(1600)})}var numberOfGifts,selectedGifts=[],persons,gifts,counter;$(function(){init(),calculateRowSize(),$(window).resize(function(){calculateRowSize()})});